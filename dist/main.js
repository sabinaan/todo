(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Pb:()=>r,PO:()=>s,yW:()=>m,Xd:()=>a,mo:()=>l,L$:()=>u});let t=document.querySelector("#taskContainer");const n=function(){let e=document.querySelector("#taskFormContainer"),t=document.querySelector("#todoForm");"visible"==e.style.visibility?(e.style.visibility="hidden",t.reset(),document.querySelector(".felmeddelande").style.visibility="hidden"):e.style.visibility="visible"},o=function(e){!function(){for(;t.firstChild;)t.removeChild(t.firstChild)}(),e.forEach(i)};let i=function(e){let n=document.createElement("button"),o=document.createElement("span"),i=document.createElement("span"),c=document.createElement("span"),l=document.createElement("span"),r=document.createElement("span"),s=document.createElement("span");n.setAttribute("class","main-button task-button"),n.setAttribute("data-key",e.id),i.setAttribute("class","checkbox"),e.complete?(i.innerHTML="&#9746",i.classList.add("checked")):i.innerHTML="&#9744",c.setAttribute("class","title"),c.textContent=e.title,r.setAttribute("class","due-date"),r.textContent=e.dueDate,s.setAttribute("class","delete-symbol"),s.innerHTML="&#10005;",o.appendChild(i),o.appendChild(c),l.appendChild(r),l.appendChild(s),n.appendChild(o),n.appendChild(l),t.appendChild(n)};document.querySelector("#add-task-button").addEventListener("click",n),document.querySelector("#cancelForm").addEventListener("click",n),document.querySelector("#saveForm").addEventListener("click",(function(){const e=document.querySelector("#title").value,t=document.querySelector("#description").value,o=document.querySelector("#due-date").value,i=document.querySelector("#prio").value,c=document.querySelector("#id").value;if(""!==e){let d=l(c,e,t,o,i);c?s(d):r(d),n(),console.log("form saved")}else document.querySelector(".felmeddelande").style.visibility="visible"})),document.querySelector("#taskContainer").addEventListener("click",(function(e){let t=e.target.closest(".task-button").getAttribute("data-key"),o=e.target;o.classList.contains("delete-symbol")&&(a(t),console.log("item deleted")),(o.classList.contains("task-button")||o.classList.contains("title")||o.classList.contains("due-date"))&&function(e){const t=document.querySelector("#id"),o=document.querySelector("#title"),i=document.querySelector("#description"),c=document.querySelector("#due-date"),l=document.querySelector("#prio");t.value=e.id,o.value=e.title,i.value=e.description,c.value=e.dueDate,l.value=e.priority,n()}(m(t)),o.classList.contains("checkbox")&&(u(t),o.classList.contains("checked")?(o.innerHTML="&#9744",o.classList.remove("checked")):(o.innerHTML="&#9746",o.classList.add("checked")))})),console.log("Hello world!");let c=[];const l=(e,t,n,o,i,c)=>(e||(e=Date.now(),c=!1),{id:e,title:t,description:n,dueDate:o,priority:i,complete:c}),r=function(e){c.push(e),d(c),o(c)},s=function(e){c.forEach((function(t){t.id==e.id&&(console.log("item match"),t.title=e.title,t.description=e.description,t.dueDate=e.dueDate,t.priority=e.priority)})),d(c),o(c)},d=function(e){localStorage.setItem("storage",JSON.stringify(e))},a=function(e){c=c.filter((t=>t.id!=e)),d(c),o(c)},u=function(e){c.forEach((function(t){t.id==e&&(t.complete=!t.complete)})),d(c),o(c)},m=function(e){let t;return c.forEach((function(n){n.id==e&&(t=n)})),console.log("task found"),t};!function(){let e=JSON.parse(localStorage.getItem("storage"));e&&(c=e,console.log("storage retrived"),o(c))}()})();